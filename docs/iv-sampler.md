# IV-отбор

[Назад к списку компонентов](../README.md)

## Назначение

Компонент предназначен для постобработки результатов компонента **Конечные классы**:

* отбор столбцов, которые содержат метку конечного класса (по умолчанию имя такого столбца имеет постфикс _ClassMark);
* отбор значимых столбцов (список значимых столбцов подается отдельно и может быть взят с выхода конечных классов).

Незначимые столбцы всегда исключаются.

## Входные порты

| Название               | Тип           |
|:-----------------------|:--------------|
| Входной набор данных   | Таблица       |
| Значимости столбцов    | Таблица       |
| Переменные             | Переменные    |

### Структура таблицы "Входной набор данных"

На вход нужно подавать выходной набор данных из первого выходного порта компонента **Конечные классы**.

### Структура таблицы "Значимости столбцов"

| Метка               | Тип                             | Описание                |
|:--------------------|:--------------------------------|:------------------------|
| Имя столбца         | ![](./img/string.svg) Строковый |                         |
| Метка столбца       | ![](./img/string.svg) Строковый |                         |
| Значимость столбца  | ![](./img/string.svg) Строковый |                         |

Данный набор данных может быть взят из третьего выходного порта компонента **Конечные классы**, предварительно отфильтровав нужные по значимости столбцы.

### Переменные в порте "Переменные"

| Метка                         | Тип                              | Значение    |
|:------------------------------|:---------------------------------|:------------|
| Исключаемые столбцы           | ![](./img/string.svg) Строковый  | Id,Event    |
| Постфикс метки                | ![](./img/string.svg) Строковый  | _ClassMark  |
| Назначать активными           | ![](./img/logical.svg) Логический| false       |
| Количество первых столбцов    | ![](./img/integer.svg) Целый     | null        |
| Модифицировать метку столбцов | ![](./img/logical.svg) Логический| true        |

Переменную **Постфикс метки** менять нежелательно, если используются результаты работы компонента **Конечные классы**.

В переменную исключаемые столбцы задаются через разделитель "," имена полей, которые необходимо добавить "как есть" на выходе компонента (обычно это поле с идентификатором и событием). 

Если значение переменной **Назначать активными** равно true, то всем полям выходного набора данных будет присвоено значение **Назначение** - **Входное**, что упростит настройку узлов группы **Data Mining**.

Переменная **Количество первых столбцов** определяет количество столбцов, которые будут показаны в итоговом наборе данных. Список столбцов формируется на основе информационного индекса, при этом столбец с более высоким индексом имеет больше шансов быть включенным в список. Если значимых столбцов меньше, чем указано в переменной, то будут показаны только значимые столбцы.

Переменная **Модифицировать метку столбцов** отвечает за изменение метки столбцов. Это позволяет сортировать поля в алфавитном порядке по убыванию значения информационного индекса. Каждой метке присваивается префикс и окончание. Префикс помогает правильно сортировать поля по убыванию информационного индекса, а окончание указывает на их значимость.


## Выходные порты

| Название              | Тип     |
|:----------------------|:--------|
| Выходной набор данных | Таблица |

### Структура таблицы "Выходной набор данных"

Структура таблицы соответствует входному набору после преобразования.