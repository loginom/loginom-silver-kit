# Декомпозиция временного ряда

[Назад к списку компонентов](../README.md)

## Назначение

Разделение временного ряда на три основные составляющие: тренд, сезонность и остаток (шум). Позволяет выявить долгосрочные тенденции, периодические колебания и случайные отклонения. Используется для анализа структуры временных рядов и прогнозирования будущих значений. 

Компоненты:

* **Декомпозиция (аддитивная)**: Реализует разделение временного ряда на компоненты тренда, сезонности и шума, которые складываются друг с другом. 
* **Декомпозиция (мультипликативная)**: Реализует разделение временного ряда на компоненты тренда, сезонности и шума, которые взаимодействуют путем умножения друг на друга.

Реализация обоих компонентов — декомпозиции аддитивной модели и мультипликативной модели — идентична по структуре и интерфейсу. Они имеют одинаковые входные и выходные порты для приема данных, а также идентичные переменные настройки запуска. Различие заключается исключительно в математической модели, заложенной внутрь каждого из компонентов, что определяет особенности обработки временного ряда.

Для компонентов настроен отчет 'Декомпозиция', который визуально отображает результаты декомпозиции.

## Входные порты

| Название              | Тип        |
|:----------------------|:-----------|
| Входной набор данных  | Таблица    |
| Переменные            | Переменные |

### Структура таблицы "Входной набор данных"

| Метка                   | Тип                                  | Описание                                                                                                 |
|:------------------------|:-------------------------------------|:---------------------------------------------------------------------------------------------------------|
| Период                  | ![](./img/datetime.svg) Дата/Время     | Дата к которой привязаны наблюдения/значения временного ряда                                           |
| Значение                | ![](./img/realnumber.svg) Вещественный | Числовое значение временного ряда, соответствующее указанному периоду времени                          |

### Переменные в порте "Переменные"

| № | Метка          | Тип                                        | Значение |
|:--|:---------------|:-------------------------------------------|:---------|
| 1 | Период         | ![](./img/integer.svg) Целый               | 12       |
| 2 | Тип периода    | ![](./img/string.svg) Строковый            | m        |

1. **Период** — длина сезона (цикла). Задает, сколько наблюдений приходится на один полный сезон. Например, 4 может означать 4 квартала в год, а 12 — 12 месяцев в году.

2. **Тип периода** — тип определяемой сезонности (по умолчанию используется 'm' — месяц):

* **d** — день;
* **w** — неделя;
* **m** — месяц (по умолчанию);
* **q** — квартал.

## Выходные порты

| Название                  | Тип        |
|:--------------------------|:-----------|
| Декомпозиция: модель      | Таблица    |
| Декомпозиция: сезонность  | Таблица    |

### Структура таблицы "Декомпозиция: модель"

| Метка                   | Тип                                       | Описание                                                                            |
|:------------------------|:------------------------------------------|:------------------------------------------------------------------------------------|
| Период                  | ![](./img/datetime.svg) Дата/Время        | Дата к которой привязаны наблюдения/значения временного ряда                        |
| Значение                | ![](./img/realnumber.svg) Вещественный    | Исходные значения временного ряда, соответствующее указанному периоду времени       |
| Модель                  | ![](./img/realnumber.svg) Вещественный    | Значения модели, полученные после декомпозиции, включая тренд и сезонность          |
| Тренд                   | ![](./img/realnumber.svg) Вещественный    | Значения сезонности для указанного временного периода                               |
| Сезонность              | ![](./img/realnumber.svg) Вещественный    | Полученные значения сезонности для указанного временного периода     |
| Остаток                 | ![](./img/realnumber.svg) Вещественный    | статочное значение, полученное после вычитания из исходного временного ряда смоделированных значений (тренда и сезонности)|

### Структура таблицы "Декомпозиция: сезонность"

| Метка                   | Тип                                    | Описание |
|:------------------------|:---------------------------------------|:---------|
| Сезонные компоненты          | ![](./img/string.svg) Строковый   | Наименование сезонна |
| Сезонная компонента значение | ![](./img/realnumber.svg) Вещественный| Значения сезонности для сезона    |


